# 软件单元测试基本概念

## 1. 软件测试基础知识

+ 什么是软件测试？
    + 在规定的条件下进行操作，以发现错误，并对软件质量进行评估；

+ 测试与调试有什么区别？

| 测试                               | 调试                                         |
| ---------------------------------- | -------------------------------------------- |
| 发现软件的缺陷；                   | 已知缺陷的前提下，定位缺陷的位置并进行修复； |
| 有开始条件、结束条件和预期结果；   | 随意开始、随意结束；                         |
| 需要计划，需要设计测试用例；       | 不需要计划，出现缺陷就开始调试；             |
| 可以为软件产品的指令评价提供依据； | 无留档资料；                                 |

个人认为测试和调试是交替进行的，首先进行测试、检测代码的正确性；如果发现结果与预期不符，则开始调试；

+ 软件测试有多重要？
    + 软件质量成本 = 预防成本 + 检测成本 + 失败成本；
        + 预防成本：需求评审、设计评审、代码评审等前期预防措施；
        + 检测成本：测试过程中的人力成本、购买测试设备费用、破坏性测试等；
        + 失败成本：制造过程中的产品报废、客户使用过程中的退货/返修等；
    + 换言之，如果软件质量成本对于产品影响不大，便可以压缩软件测试；反之，软件质量对于产品的影响越大，则越应进行软件测试；
+ 软件测试分类
    + 按不同阶段划分
        + 单元测试：对软件设计中的最小单位进行测试，可以是一个小模块、也可以是一个类；验证模块内部功能、接口等是否符合设计要求；
        + 集成测试：将单元组装起来进行测试；验证单元与单元之间、单元与现有功能之间是否符合要求；
        + 确认测试：已经完成组装，则对整个软件系统进行测试；判断是否符合设计；
        + 系统测试：在真实或模拟的系统环境下对软件和硬件进行测试，以验证整个软件和硬件系统；
        + 验收测试：根据任务书对整个系统进行测试，判断是否符合验收标准；
    + 按是否了解内部结构
        + 黑盒测试：完全不了解内部，根据说明书进行测试用例的设计；
        + 白盒测试：了解软件内部，对逻辑、路径等进行验证；
        + 灰盒测试：先根据说明书设计测试用例，后对软件内部进行了解、补充测试用例；即前期作为黑盒测试、后期作为白盒测试，以提高测试的覆盖率；
    + 按是否需要运行程序
        + 静态测试：在不运行软件的前提下进行测试；
        + 动态测试：运行软件的前提下，通过输入输出进行检查；

## 2. 单元测试基本概念

+ 什么是单元？
    + 国标定义：可独立编译会汇编的程序模块；
    + C：通常一个文件中的代码会承担一个职责，那么按文件来划分是合理的；
    + C++：通常一个类会承担一个单一的职责，按类来划分是合理的；
+ 什么是TDD？
    + Test-Driven Development，测试驱动开发：是一种增量式软件开发技术，即在没有失败的单元测试的前提下不可以编写产品代码，开发产品的目的仅仅是让测试通过，依靠测试来推动开发的过程；
+ TDD有什么缺点？
    + 扭曲了开发目标：开发的根本目的是设计优秀的产品，而不是考虑怎么通过测试；
    + 让开发者做了很多无用功：TDD流程中，第一步期望的是失败的代码；但我如果可以一次写好，为什么要再修改一次呢？
    + 让开发者轻设计、重重构：在开发之初便期望根据一步步测试来优化代码，问题太多后便开始重构；会忽视一部分前期设计的重要性；

## 3. 静态测试基本概念

+ 什么是静态测试？
    + 在不运行软件的情况下对软件进行测试，通过对程序代码和文档进行检查来发现可能存在的错误；
+ 静态检查包括哪些内容？
    + 编码规则检查：将在编码过程 中的一些注意事项形成规则并使用相关工具进行检查；
    + 代码结构分析：使用工具对代码结构进行分析，避免代码过于复杂；
    + 代码评审：由人对代码进行阅读，以发现代码中的一些错误；
    + 现在的静态测试依据标准可以测出更多的内容，例如MISRA，如指针越界、变量未调用等；